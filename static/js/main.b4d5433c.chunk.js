(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{10:function(e,t,n){e.exports={formWrapper:"CreateProduct_formWrapper__qUxti",inputWrapper:"CreateProduct_inputWrapper__IAaYS",inputImageWrapper:"CreateProduct_inputImageWrapper__2QgzE",formSubmitWrapper:"CreateProduct_formSubmitWrapper__TQRO-",message:"CreateProduct_message__2CB9H",fileInputStyle:"CreateProduct_fileInputStyle__1IBsV",button:"CreateProduct_button__1YytQ"}},25:function(e,t,n){e.exports={productList:"ProductList_productList__PU68_",newProductBtnWrapper:"ProductList_newProductBtnWrapper__22ho1",newProductBtn:"ProductList_newProductBtn__3RhtH"}},38:function(e,t,n){},39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),i=n(21),d=n.n(i),s=(n(38),n(39),n(15)),o=n(16),u=n(18),p=n(17),l=n(12),m=n(13),j=n(11),b=function(e){return Object(r.jsx)("button",{className:e.style,onClick:e.handleClick||null,children:e.value})},h=n(9),O=n.n(h),g=function(e){return Object(r.jsxs)(j.b,{to:"/",className:O.a.buttonWrapper,children:[!e.pinnedItem.id&&Object(r.jsx)(b,{style:O.a.pinBtn,value:"Pin",handleClick:function(){return e.pinProduct(e.product)}}),e.pinnedItem.id==e.id&&Object(r.jsx)(b,{style:O.a.pinBtn,value:"UnPin",handleClick:function(){return e.pinProduct()}}),Object(r.jsx)(b,{style:O.a.removeBtn,value:"X",handleClick:function(){return e.deleteItem(e.id)}})]})},f=function(e){return Object(r.jsxs)("div",{className:O.a.product,children:[Object(r.jsx)(g,{id:e.id,pinnedItem:e.pinnedItem,pinProduct:e.pinProduct,deleteItem:e.deleteItem,product:e.product}),Object(r.jsx)("div",{className:O.a.imageWrapper,children:Object(r.jsx)("img",{src:e.img,alt:e.name})}),Object(r.jsx)("div",{className:O.a.productName,children:e.name}),Object(r.jsx)("div",{className:O.a.productDescription,children:e.description}),Object(r.jsxs)("div",{className:O.a.productPrice,children:[e.price," $"]})]})},P=n(24),_=n(3),v=n(20),x="DELETE_ITEM",I="SET_PINNED_ITEM",y="REMOVE_PINNED_ITEM",L="CHANGE_NEW_PRODUCT_DATA",C="CHANGE_NEW_PRODUCT_IMG",w="ADD_NEW_PRODUCT",N={products:[{id:1,name:"Phone",description:"It`s the newest phone in the world",img:"https://cnet4.cbsistatic.com/img/TnYZfFYsNAf1cc4z1ld-B-Z2zCM=/1200x675/2019/11/07/09be7e4c-9801-4d03-b86d-248f501538ff/iphone-12-render-phone-arena-2.jpg",price:"1000"},{id:2,name:"Sneakers",description:"It`s comfortable shoes",img:"https://cdn.hswstatic.com/gif/clean-sneakers-2.jpg",price:"100"},{id:3,name:"Laptop",description:"It`s a mac",img:"https://i.citrus.ua/uploads/shop/9/d/9d7a447ca66cde15350bb8c87afad977.jpg",price:"3000"}],defaultImage:"https://www.bluemountro.com/assets/images/no-image.png",pinnedItem:{},newProduct:{name:"",description:"",price:""},productsListLocal:null},S=function(e){return{type:I,product:e}},W=function(){return{type:y}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var n=e.productsListLocal?Object(v.a)(e.productsListLocal.filter((function(e){return e.id!==t.id}))):null;return Object(_.a)(Object(_.a)({},e),{},{products:Object(v.a)(e.products.filter((function(e){return e.id!==t.id}))),productsListLocal:n});case I:var r=e.products.filter((function(e){return e.id!==t.product.id}));return r.unshift(t.product),Object(_.a)(Object(_.a)({},e),{},{productsListLocal:r,pinnedItem:Object(_.a)({},t.product)});case y:return Object(_.a)(Object(_.a)({},e),{},{pinnedItem:{},productsListLocal:null});case L:return Object(_.a)(Object(_.a)({},e),{},{newProduct:Object(_.a)(Object(_.a)({},e.newProduct),{},Object(P.a)({},t.data.key,t.data.value))});case C:return Object(_.a)(Object(_.a)({},e),{},{newProduct:Object(_.a)(Object(_.a)({},e.newProduct),{},{img:t.data})});case w:var c=e.newProduct,a=c.name,i=c.description,d=c.price,s=c.img;if(a&&i&&d){var o=e.productsListLocal?[].concat(Object(v.a)(e.productsListLocal),[Object(_.a)(Object(_.a)({},e.newProduct),{},{id:e.products.length+1,img:s||e.defaultImage})]):null;return Object(_.a)(Object(_.a)({},e),{},{products:[].concat(Object(v.a)(e.products),[Object(_.a)(Object(_.a)({},e.newProduct),{},{id:e.products.length+1,img:s||e.defaultImage})]),productsListLocal:o,newProduct:{name:"",description:"",price:""}})}return e;default:return e}},B=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).pinProduct=function(e){Object.keys(r.props.pinnedItem).length?r.props.removePinnedItem():r.props.setPinnedItem(e)},r.pinProduct=r.pinProduct.bind(Object(m.a)(r)),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.product,t=e.id,n=e.name,c=e.description,a=e.img,i=e.price;return Object(r.jsx)(f,{id:t,name:n,description:c,img:a,price:i,deleteItem:this.props.deleteItem,pinProduct:this.pinProduct.bind(this),pinnedItem:this.props.pinnedItem,product:this.props.product},t)}}]),n}(a.a.Component),D=Object(l.b)((function(e){return{productList:e.products,pinnedItem:e.pinnedItem,productsListLocal:e.productsListLocal}}),{deleteItem:function(e){return{type:x,id:e}},setPinnedItem:S,removePinnedItem:W})(B),E=n(25),k=n.n(E),M=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:k.a.newProductBtnWrapper,children:Object(r.jsx)(j.b,{to:"/new",children:Object(r.jsx)(b,{style:k.a.newProductBtn,value:"+"})})}),Object(r.jsx)("div",{className:k.a.productList,children:e.products.map((function(t){return Object(r.jsx)(D,{deleteItem:e.deleteItem,product:t,pinProduct:e.pinProduct},t.id)}))})]})},T=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return Object(r.jsx)(M,{products:this.props.productsListLocal||this.props.productList,productsListLocal:this.props.productsListLocal})}}]),n}(a.a.Component),U=Object(l.b)((function(e){return{productList:e.products,pinnedItem:e.pinnedItem,productsListLocal:e.productsListLocal}}),{setPinnedItem:S,removePinnedItem:W})(T),A=n(4),R=n(10),z=n.n(R),H=function(e){return"file"!==e.type?Object(r.jsxs)("div",{className:e.buttonStyle,children:[Object(r.jsxs)("span",{children:[e.name," ",Object(r.jsx)("sup",{children:" * "})," "]}),Object(r.jsx)("input",{type:e.type,name:e.name.toLowerCase(),onChange:e.handleChange,value:e.value})]}):Object(r.jsxs)("div",{className:e.buttonStyle,children:[Object(r.jsx)("span",{children:e.name}),Object(r.jsx)("input",{type:e.type,name:e.name.toLowerCase(),onChange:e.handleChange,className:e.fileInputStyle})]})},Q=function(e){return Object(r.jsxs)("form",{className:z.a.formWrapper,children:[Object(r.jsx)("h2",{children:"Add product"}),Object(r.jsxs)("div",{className:z.a.message,children:[e.emptyField&&Object(r.jsx)("div",{children:"Field with * must be filled"}),e.errorMessage&&Object(r.jsx)("div",{children:e.errorMessage})]}),Object(r.jsx)(H,{buttonStyle:z.a.inputWrapper,name:"Name",type:"text",value:e.name,handleChange:e.handleChange}),Object(r.jsx)(H,{buttonStyle:z.a.inputWrapper,name:"Description",type:"text",value:e.description,handleChange:e.handleChange}),Object(r.jsx)(H,{buttonStyle:z.a.inputWrapper,name:"Price",type:"number",value:e.price,handleChange:e.handleChange}),Object(r.jsx)(H,{buttonStyle:z.a.inputImageWrapper,fileInputStyle:z.a.fileInputStyle,name:"Image",type:"file",handleChange:e.handleUploadFile}),Object(r.jsxs)(j.b,{to:"/",className:z.a.formSubmitWrapper,children:[!e.errorMessage&&Object(r.jsx)(b,{style:z.a.button,handleClick:e.handleSubmit,value:"Accept"}),Object(r.jsx)(b,{style:z.a.button,value:"Cancel"})]})]})},Y=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).handleChange=function(e){r.props.changeNewProductData({key:e.target.name,value:e.target.value})},r.handleUploadFile=function(e){var t=e.target.files[0];if(t&&/.jpg|.jpeg|.png|.svg$/.test(t.type)){r.setState({errorMessage:""});var n=new FileReader;n.onload=function(){return r.props.changeNewProductImg(n.result)},n.readAsDataURL(t)}else r.setState({errorMessage:"The file must be only image"})},r.handleSubmit=function(e){var t=r.props.newProduct;t.name,t.description;t.price?r.props.addNewProduct():(e.preventDefault(),r.setState({emptyField:!0}))},r.state={emptyField:!1,errorMessage:""},r.handleChange=r.handleChange.bind(Object(m.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(m.a)(r)),r.handleUploadFile=r.handleUploadFile.bind(Object(m.a)(r)),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.newProduct,t=e.name,n=e.description,c=e.img,a=e.price;return Object(r.jsx)(Q,{name:t,description:n,img:c,price:a,handleChange:this.handleChange,handleUploadFile:this.handleUploadFile,handleSubmit:this.handleSubmit,emptyField:this.state.emptyField,errorMessage:this.state.errorMessage})}}]),n}(a.a.Component),G=Object(l.b)((function(e){return{newProduct:e.newProduct}}),{changeNewProductData:function(e){return{type:L,data:e}},addNewProduct:function(){return{type:w}},changeNewProductImg:function(e){return{type:C,data:e}}})(Y);var Z=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("header",{children:"Product List"}),Object(r.jsx)(A.a,{path:"/",exact:!0,children:Object(r.jsx)(U,{})}),Object(r.jsx)(A.a,{path:"/new",exact:!0,children:Object(r.jsx)(G,{})})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},V=n(23),$=Object(V.b)(F);d.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(j.a,{basename:"/productList",children:Object(r.jsx)(l.a,{store:$,children:Object(r.jsx)(Z,{})})})}),document.getElementById("root")),J()},9:function(e,t,n){e.exports={product:"Productitem_product__3zcZR",buttonWrapper:"Productitem_buttonWrapper__1dp4m",imageWrapper:"Productitem_imageWrapper__3iF3s",productName:"Productitem_productName__1Ay-O",productDescription:"Productitem_productDescription__2x1RU",productPrice:"Productitem_productPrice___yChu",pinBtn:"Productitem_pinBtn__3h3Qa",removeBtn:"Productitem_removeBtn__1MusF"}}},[[45,1,2]]]);
//# sourceMappingURL=main.b4d5433c.chunk.js.map